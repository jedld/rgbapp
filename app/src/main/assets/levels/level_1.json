{
  "id": 1,
  "next_level": 2,
  "title": "Level 1",
  "options": {
    "recharge_meter": false,
    "queue": false
  },
  "map": [
    [
      0,
      0,
      0,
      0,
      0
    ],
    [
      0,
      0,
      0,
      0,
      0
    ],
    [
      0,
      0,
      0,
      0,
      0
    ],
    [
      0,
      0,
      0,
      0,
      0
    ],
    [
      0,
      0,
      0,
      0,
      0
    ]
  ],
  "queue": [
    2
  ],
  "grid_width": 5,
  "grid_height": 5,
  "sequence": [
    {
      "op": "disable_grid",
      "details": {
        "value": true
      }
    },
    {
      "op": "hide_grid"
    },
    {
      "op": "show_text",
      "details": {
        "value": {
          "message": "welcome."
        }
      }
    },
    {
      "op": "wait_for_touch"
    },
    {
      "op": "show_text",
      "details": {
        "value": {
          "message": [
            "My name is GLOSAD.",
            "I am an advanced artificial intelligence.",
            "My purpose is to teach you",
            "the basics of project 'RGB'."
          ]
        }
      }
    },
    {
      "op": "wait_for_touch"
    },
    {
      "op": "show_text",
      "details": {
        "value": {
          "message": "How are you doing subject X-5213?"
        }
      }
    },
    {
      "op": "wait_for_touch"
    },
    {
      "op": "show_text",
      "details": {
        "value": {
          "message": [
            "I Assume you don't remember anything."
          ]
        }
      }
    },
    {
      "op": "wait_for_touch"
    },
    {
      "op": "show_text",
      "details": {
        "value": {
          "message": "Don't worry that is an expected 'side-effect.'"
        }
      }
    },
    {
      "op": "wait_for_touch"
    },
    {
      "op": "show_text",
      "details": {
        "value": {
          "message": [
            "Let us just say that you are part of an",
            "\"experiment\""
          ]
        }
      }
    },
    {
      "op": "wait_for_touch"
    },
    {
      "op": "show_text",
      "details": {
        "value": {
          "message": "In front of you is the \"GRID\""
        }
      }
    },
    {
      "op": "show_grid"
    },
    {
      "op": "highlight",
      "details": {
        "target": "grid",
        "value": true
      }
    },
    {
      "op": "wait_for_touch"
    },
    {
      "op": "highlight",
      "details": {
        "target": "grid",
        "value": false
      }
    },
    {
      "op": "show_text",
      "details": {
        "value": {
          "message": "Tapping on the GRID places TILES"
        }
      }
    },
    {
      "op": "wait_for_touch"
    },
    {
      "op": "show_text",
      "details": {
        "value": {
          "message": "Try placing a TILE on the GRID now"
        }
      }
    },
    {
      "op": "wait_for_valid_move"
    },
    {
      "op": "show_text",
      "details": {
        "value": {
          "message": [
            "good",
            "TILES are special crystals that store energy."
          ]
        }
      }
    },
    {
      "op": "wait_for_touch"
    },
    {
      "op": "show_text",
      "details": {
        "value": {
          "message": [
            "Placing a TILE adjacent to another TILE",
            "so that they form 3 colors",
            "causes them to release ENERGY"
          ]
        }
      }
    },
    {
      "op": "wait_for_touch"
    },
    {
      "op": "save_state",
      "details": {
        "name": "reset_tile_placement"
      }
    },
    {
      "op": "update_queue",
      "details": {
        "value": [
          1,
          3
        ]
      }
    },
    {
      "op": "save_state",
      "details": {
        "name": "reset_tile_placement"
      }
    },
    {
      "op": "block",
      "details": {
        "sequence": [
          {
            "op": "show_text",
            "details": {
              "value": {
                "message": [
                  "Place the two TILES",
                  "adjacent to the one you placed just now."
                ]
              }
            }
          },
          {
            "op": "wait_for_valid_move",
            "details": {
              "events": [
                {
                  "no_rgb": [
                    {
                      "op": "if",
                      "details": {
                        "test": {
                          "queue_empty": true
                        },
                        "sequence": [
                          {
                            "op": "show_text",
                            "details": {
                              "value": {
                                "message": [
                                  "Hmmm ...",
                                  "Make sure the tiles are adjacent to one another."
                                ]
                              }
                            }
                          },
                          {
                            "op": "wait_for_touch"
                          },
                          {
                            "op": "restore_state",
                            "details": {
                              "name": "reset_tile_placement"
                            }
                          }
                        ]
                      }
                    }
                  ],
                  "trigger_rgb": [
                    {
                      "op": "show_text",
                      "details": {
                        "value": {
                          "message": [
                            "Excellent!",
                            "Noticed how the squares changed color",
                            "The color of the LAST tile",
                            "that was placed will be used."
                          ]
                        }
                      }
                    },
                    {
                      "op": "wait_for_touch"
                    },
                    {
                      "op": "map",
                      "details": {
                        "map": [
                          [
                            1,
                            1,
                            0,
                            0,
                            3
                          ],
                          [
                            1,
                            1,
                            0,
                            3,
                            3
                          ],
                          [
                            0,
                            0,
                            0,
                            0,
                            0
                          ],
                          [
                            0,
                            0,
                            0,
                            0,
                            0
                          ],
                          [
                            0,
                            0,
                            0,
                            0,
                            0
                          ]
                        ]
                      }
                    },
                    {
                      "op": "update_queue",
                      "details": {
                        "value": [
                          2
                        ]
                      }
                    },
                    {
                      "op": "save_state",
                      "details": {
                        "name": "reset_tile_placement_2"
                      }
                    },
                    {
                      "op": "show_text",
                      "details": {
                        "value": {
                          "message": [
                            "Try another one",
                            "Place a tile so that it",
                            "activates the 2 groups"
                          ]
                        }
                      }
                    },
                    {
                      "op": "wait_for_valid_move",
                      "details": {
                        "events": [
                          {
                            "no_rgb": [
                              {
                                "op": "if",
                                "details": {
                                  "test": {
                                    "queue_empty": true
                                  },
                                  "sequence": [
                                    {
                                      "op": "show_text",
                                      "details": {
                                        "value": {
                                          "message": [
                                            "Hmmm ...",
                                            "Make sure you place the Tile so that it", "touches both colors"
                                          ]
                                        }
                                      }
                                    },
                                    {
                                      "op": "wait_for_touch"
                                    },
                                    {
                                      "op": "restore_state",
                                      "details": {
                                        "name": "reset_tile_placement_2"
                                      }
                                    }
                                  ]
                                }
                              }
                            ],
                            "trigger_rgb": [
                              {
                                "op": "show_text",
                                "details": {
                                  "value": {
                                    "message": [
                                      "Excellent!",
                                      "TILES of the same color",
                                      "grouped together will be triggered",
                                      "as long as one of its squares get matched!"
                                    ]
                                  }
                                }
                              },
                              {
                                "op": "wait_for_touch"
                              },
                              {
                                "op": "show_text",
                                "details": {
                                  "value": {
                                    "message": [
                                      "GOOD",
                                      "You can now proceed to LEVEL 2"
                                    ]
                                  }
                                }
                              }
                            ]
                          }
                        ]
                      }
                    }
                  ]
                }
              ]
            }
          }
        ]
      }
    }
  ]
}